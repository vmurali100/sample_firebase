<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  </head>

<body>
   
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-app.js";
    
      import { getAnalytics, logEvent } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-analytics.js";
    
       function init_fb_analytics() {
         const firebaseConfig = {
            apiKey: "AIzaSyAeIO4Lf4N2YJ3PVThq7S-ciP5Cj_64bp4",
            authDomain: "react-fire-app-d30a3.firebaseapp.com",
            databaseURL: "https://react-fire-app-d30a3.firebaseio.com",
            projectId: "react-fire-app-d30a3",
            storageBucket: "react-fire-app-d30a3.appspot.com",
            messagingSenderId: "665535339064",
            appId: "1:665535339064:web:b0028c9860d118e50c64cd",
            measurementId: "G-W9YSWXBCNL"        
            };               
            const app = initializeApp(firebaseConfig);
            console.log(app);
            const analytics = getAnalytics(app);
            console.log(analytics);
            window.analytics = analytics;
        }
        var init_ga = function() {
          console.log("****init_ga fun******");
          init_fb_analytics();
        }
    
    
    var send_ga_event = function(e) {
        console.log("send ga event");
        
        logEvent(window.analytics, e.data);
    }
    window.send_ga_event = send_ga_event;
      var messageHandler = function (e) {
                var messageEle = document.getElementById('message');
                messageEle.innerHTML = e.data;
                console.log("message handler");
                // window.init_ga();
                window.send_ga_event(e);
      };
    
      init_ga()
    

//       window.onmessage = messageHandler;
    window.addEventListener('message',messageHandler)
      </script>
    Receiving iframe.  

<div id="message">
</body>
</html>
